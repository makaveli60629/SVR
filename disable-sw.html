<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Disable Scarlett Service Worker</title>
  <style>
    body{font-family:monospace;background:#000;color:#0f0;margin:0;padding:20px;line-height:1.5}
    .box{border:1px solid #0f0;padding:14px;border-radius:12px;background:rgba(0,20,0,0.6)}
    a{color:#9fe}
  </style>
</head>
<body>
  <div class="box" id="out">Disabling service workers…</div>
  <script>
    (async () => {
      const out = document.getElementById('out');
      if (!('serviceWorker' in navigator)) {
        out.textContent = "No serviceWorker support in this browser.";
        return;
      }
      try {
        const regs = await navigator.serviceWorker.getRegistrations();
        for (const r of regs) await r.unregister();
        out.innerHTML = "✅ Service workers unregistered. Now go back and reload the main page.<br><br><a href='./index.html'>Return to Scarlett</a>";
      } catch (e) {
        out.textContent = "Error: " + (e && e.message ? e.message : e);
      }
    })();
  </script>
</body>
</html>
