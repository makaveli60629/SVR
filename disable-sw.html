<!doctype html>
<html><head><meta charset="utf-8"><title>Disable Service Worker</title></head>
<body style="font-family:system-ui;padding:20px;">
<h2>Disable Scarlett Service Worker</h2>
<p>If caching is preventing updates, press the button below, then reload the main app.</p>
<button id="btn" style="padding:12px 16px;border-radius:10px;">Unregister service workers</button>
<pre id="out"></pre>
<script>
const out = document.getElementById('out');
document.getElementById('btn').onclick = async ()=>{
  if (!('serviceWorker' in navigator)) { out.textContent = 'No serviceWorker support.'; return; }
  const regs = await navigator.serviceWorker.getRegistrations();
  for (const r of regs) await r.unregister();
  out.textContent = `Unregistered ${regs.length} service workers. Now reload the main app.`;
};
</script>
</body></html>
