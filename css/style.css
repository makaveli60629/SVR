/* /css/style.css — SCARLETT PERMANENT (FULL)
   - Mobile-first HUD
   - Keeps Android joystick/LookPad ON TOP
   - Dark neon theme + readable diagnostics
*/

/* ---------- Base / Reset ---------- */
:root{
  --bg:#070812;
  --panel: rgba(10,14,22,0.86);
  --panel2: rgba(8,12,20,0.70);
  --border: rgba(140,180,255,0.18);
  --border2: rgba(255,255,255,0.10);
  --text:#e9eefc;
  --muted:#b6c2e8;
  --accent:#8a2be2;
  --warn:#ffb547;
  --shadow: 0 18px 60px rgba(0,0,0,0.55);

  /* Leave room so controls don’t collide with phone nav bars */
  --safeL: env(safe-area-inset-left, 0px);
  --safeR: env(safe-area-inset-right, 0px);
  --safeT: env(safe-area-inset-top, 0px);
  --safeB: env(safe-area-inset-bottom, 0px);
}

*{ box-sizing:border-box; }
html,body{
  margin:0;
  height:100%;
  background: radial-gradient(1100px 650px at 50% 0%, rgba(138,43,226,0.15), transparent 55%),
              radial-gradient(900px 600px at 15% 35%, rgba(60,120,255,0.12), transparent 55%),
              radial-gradient(900px 600px at 85% 35%, rgba(255,120,60,0.07), transparent 58%),
              var(--bg);
  color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  overflow:hidden;
  touch-action:manipulation;
}

a{ color:inherit; text-decoration:none; }
button{ font:inherit; }

/* Make sure the WebGL canvas sits behind UI */
canvas{
  position:fixed;
  inset:0;
  width:100% !important;
  height:100% !important;
  display:block;
  z-index:0;
}

/* ---------- HUD Container ---------- */
/* IMPORTANT:
   - HUD below joystick/lookpad (z-index 50)
   - Joysticks created in world.js use z-index:999999
*/
.hud{
  position:fixed;
  left: calc(12px + var(--safeL));
  top:  calc(12px + var(--safeT));
  right:calc(12px + var(--safeR));
  max-width: 820px;
  margin:0 auto;

  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 22px;
  padding: 14px;
  box-shadow: var(--shadow);
  backdrop-filter: blur(10px);

  z-index:50;
  pointer-events:auto;
}

.hud--hidden{
  opacity:0;
  pointer-events:none;
  transform: translateY(-8px);
  transition: opacity .18s ease, transform .18s ease;
}

/* ---------- HUD Header ---------- */
.hud__title{
  display:flex;
  flex-direction:column;
  gap:2px;
  margin-bottom: 10px;
}
.hud__brand{
  font-weight: 900;
  letter-spacing: .02em;
  font-size: 18px;
}
.hud__sub{
  font-weight: 650;
  font-size: 12px;
  color: rgba(230,236,252,0.78);
}

/* ---------- Button Row ---------- */
.hud__row{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  margin: 10px 0 12px;
}

/* ---------- Buttons ---------- */
.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;

  padding: 12px 14px;
  border-radius: 16px;

  background: rgba(20,30,55,0.75);
  border: 1px solid rgba(140,180,255,0.22);
  color: rgba(255,255,255,0.95);

  font-weight: 800;
  letter-spacing: .01em;
  cursor:pointer;
  user-select:none;

  transition: transform .05s ease, background .15s ease, border-color .15s ease, opacity .15s ease;
}
.btn:active{ transform: scale(0.99); }
.btn:hover{ background: rgba(26,38,68,0.82); border-color: rgba(160,205,255,0.30); }

.btn--warn{
  background: rgba(70,38,10,0.65);
  border-color: rgba(255,181,71,0.35);
}
.btn--warn:hover{
  background: rgba(88,46,12,0.72);
  border-color: rgba(255,181,71,0.48);
}

/* Make anchor look like button */
a.btn{ text-decoration:none; }

/* ---------- Diagnostics Box ---------- */
.hud__diag{
  margin:0;
  background: rgba(0,0,0,0.35);
  border: 1px solid rgba(140,180,255,0.14);
  border-radius: 16px;

  padding: 12px;
  min-height: 110px;
  max-height: 46vh;
  overflow:auto;

  white-space: pre-wrap;
  word-break: break-word;

  font-family: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
  font-size: 12.5px;
  line-height: 1.35;
  color: rgba(235,240,255,0.93);
}

/* Scrollbar (where supported) */
.hud__diag::-webkit-scrollbar{ width:10px; }
.hud__diag::-webkit-scrollbar-thumb{
  background: rgba(138,43,226,0.35);
  border-radius: 999px;
  border: 2px solid rgba(0,0,0,0.25);
}
.hud__diag::-webkit-scrollbar-track{ background: rgba(0,0,0,0.10); }

/* ---------- Mobile tuning ---------- */
@media (max-width: 520px){
  .hud{ padding: 12px; border-radius: 20px; }
  .hud__brand{ font-size: 17px; }
  .btn{ padding: 11px 12px; border-radius: 15px; }
  .hud__diag{ max-height: 44vh; }
}

/* ---------- Keep Android controls always clickable ---------- */
/* If anything overlays them, this ensures our sticks can still receive input. */
#scarlett-move-stick,
#scarlett-look-pad{
  pointer-events:auto !important;
}

/* Optional: If you ever want HUD not to steal touches except on its own controls,
   you can enable these two lines. Leave OFF unless you need it.
.hud{ pointer-events:none; }
.hud .btn, .hud .hud__diag{ pointer-events:auto; }
*/

/* ---------- XR Button (Three.js XRButton) ---------- */
button[style*="START XR"], button[style*="ENTER VR"]{
  font-weight: 900;
}
