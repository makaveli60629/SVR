/* =========================================
   SCARLETT HUD + CANVAS â€” PERMANENT
   Fixes:
   - Canvas always visible full screen
   - HUD floats above without blacking out scene
   - Diagnostics readable
   ========================================= */

:root{
  --hud-w: min(520px, calc(100vw - 24px));
  --glass: rgba(10, 12, 20, 0.62);
  --glass2: rgba(8, 10, 16, 0.72);
  --stroke: rgba(180, 200, 255, 0.18);
  --stroke2: rgba(180, 200, 255, 0.28);
  --text: rgba(240, 245, 255, 0.92);
  --muted: rgba(240, 245, 255, 0.70);
  --purple: rgba(138, 43, 226, 0.95);
  --shadow: 0 20px 60px rgba(0,0,0,0.55);
}

html, body{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  overflow:hidden;
  background:#05050b;
  touch-action:none;
  -webkit-tap-highlight-color: transparent;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
}

/* The Three.js canvas MUST be visible and behind HUD */
canvas{
  position:fixed !important;
  inset:0 !important;
  width:100vw !important;
  height:100vh !important;
  display:block !important;
  z-index:0 !important;
}

/* A subtle background in case WebGL fails */
body::before{
  content:"";
  position:fixed;
  inset:0;
  z-index:-1;
  background:
    radial-gradient(1200px 700px at 50% 60%, rgba(138,43,226,0.20), transparent 55%),
    radial-gradient(900px 500px at 30% 25%, rgba(0,180,255,0.14), transparent 55%),
    radial-gradient(900px 600px at 70% 20%, rgba(255,80,160,0.08), transparent 55%),
    linear-gradient(#05050b, #05050b);
}

/* HUD container */
#hud{
  position:fixed;
  top:12px;
  left:12px;
  width:var(--hud-w);
  z-index:1000;
  pointer-events:auto;
}

.hud--hidden{
  display:none !important;
}

/* HUD panel */
.hud-card{
  background: linear-gradient(180deg, rgba(14,16,26,0.76), rgba(10,12,20,0.66));
  border:1px solid var(--stroke);
  border-radius: 22px;
  box-shadow: var(--shadow);
  padding:16px;
  backdrop-filter: blur(10px);
}

/* Title */
.hud-title{
  color:var(--text);
  font-size:28px;
  font-weight:900;
  letter-spacing:-0.02em;
  margin:0 0 2px 0;
}
.hud-subtitle{
  color:var(--muted);
  margin:0 0 14px 0;
  font-size:14px;
  font-weight:600;
}

/* Buttons */
.hud-actions{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  margin-bottom:12px;
}

.hud-btn{
  border:1px solid var(--stroke2);
  background: rgba(12,14,22,0.55);
  color: var(--text);
  border-radius: 18px;
  padding: 12px 16px;
  font-size: 18px;
  font-weight: 800;
  letter-spacing: 0.01em;
  cursor:pointer;
  box-shadow: 0 10px 25px rgba(0,0,0,0.35);
}

.hud-btn:active{
  transform: translateY(1px);
}

.hud-btn--gold{
  border-color: rgba(255,170,70,0.35);
  background: rgba(70, 42, 10, 0.55);
}

.hud-btn--wide{
  width: 220px;
}

/* Diagnostics area */
#diagBox{
  margin-top: 10px;
  background: linear-gradient(180deg, rgba(6,7,12,0.72), rgba(6,7,12,0.62));
  border:1px solid rgba(180,200,255,0.14);
  border-radius: 18px;
  padding: 12px;
}

#diagPre{
  margin:0;
  color: rgba(240,245,255,0.86);
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  font-size: 12px;
  line-height: 1.35;
  white-space: pre-wrap;
  word-break: break-word;
  max-height: 260px;
  overflow:auto;
}

/* XRButton from Three.js */
button#VRButton, button#ARButton{
  z-index:1100 !important;
  border-radius: 14px !important;
}

/* Mobile safe */
@media (max-width: 520px){
  #hud{ width: calc(100vw - 24px); }
  .hud-btn{ font-size: 16px; padding: 11px 14px; }
   }
