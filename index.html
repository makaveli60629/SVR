<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>SVR | MISSION CONTROL FULL</title>
    <style>
        :root { --neon: #00ff00; --panel: rgba(0, 10, 0, 0.95); --err: #ff0055; --cyan: #00ffff; }
        body { margin: 0; overflow: hidden; background: #000; font-family: 'Courier New', monospace; color: var(--neon); }
        
        /* [1] ENGINE DIAGNOSTICS DEPT */
        #diag-hud {
            position: absolute; top: 10px; left: 10px; border: 1px solid var(--neon);
            padding: 12px; background: var(--panel); z-index: 1000; width: 250px;
        }

        /* [2] COMMAND BAY & OPTIONS */
        #cmd-bar {
            position: absolute; top: 10px; right: 10px; display: flex; flex-direction: column; gap: 8px; z-index: 1001;
        }
        .cmd-btn {
            background: #000; border: 1px solid var(--neon); color: var(--neon);
            padding: 12px; cursor: pointer; font-size: 11px; text-transform: uppercase;
            min-width: 140px; transition: 0.1s;
        }
        .cmd-btn:active { background: var(--neon); color: #000; }
        .btn-alert { color: var(--err); border-color: var(--err); }

        /* [3] ANDROID VIRTUAL CONTROLS (Joysticks) */
        #mobile-sticks {
            position: absolute; bottom: 30px; width: 100%; display: flex; justify-content: space-between; padding: 0 40px; box-sizing: border-box; pointer-events: none;
        }
        .base { width: 110px; height: 110px; border: 2px dashed var(--neon); border-radius: 50%; display: flex; align-items: center; justify-content: center; opacity: 0.5; pointer-events: auto; }
        .nub { width: 45px; height: 45px; background: var(--neon); border-radius: 50%; box-shadow: 0 0 15px var(--neon); }

        /* [4] THE MASTER LOG TERMINAL */
        #term-log {
            position: absolute; bottom: 160px; left: 10px; right: 10px; height: 110px;
            background: rgba(0,0,0,0.85); border-left: 4px solid var(--cyan);
            padding: 10px; font-size: 10px; overflow-y: scroll; color: #8f8;
            scrollbar-width: none;
        }
        
        /* UI UTILITIES */
        .hidden { display: none !important; }
        hr { border: 0; border-top: 1px solid #030; margin: 8px 0; }
    </style>
</head>
<body>

    <div id="diag-hud">
        <div style="font-weight: bold; color: var(--cyan);">[ SVR-CORE MONITOR ]</div>
        <hr>
        STATUS: <span id="st-val" style="color:var(--err)">OFFLINE</span><br>
        FPS: <span id="fps-val">--</span> | MEM: <span style="color:var(--cyan)">STABLE</span><br>
        XYZ: <span id="pos-val">0.0, 1.6, 0.0</span><br>
        PATH: <span id="path-val" style="font-size:9px; color:#666;">CHECKING...</span>
    </div>

    <div id="cmd-bar">
        <button class="cmd-btn" onclick="sysMsg('CORE_STORE: FETCHING ASSETS...')">üõí ASSET STORE</button>
        <button class="cmd-btn" onclick="sysMsg('WARP_INIT: TARGET TABLE_01...')">üåÄ TELEPORT</button>
        <button class="cmd-btn" onclick="toggleHUD()">üî≥ HIDE INTERFACE</button>
        <button class="cmd-btn btn-alert" onclick="location.reload()">‚ò¢Ô∏è SYSTEM RESET</button>
    </div>

    <div id="term-log">
        > INITIALIZING DEV DEPARTMENT...<br>
        > SETTING PATH_PROTOCOL: RELATIVE...<br>
        > AWAITING SCARLETT ONE SPINE CONNECTION...
    </div>

    <div id="mobile-sticks">
        <div class="base" id="left-stick"><div class="nub"></div></div>
        <div class="base" id="right-stick"><div class="nub"></div></div>
    </div>

    <div style="position: absolute; bottom: 20px; width: 100%; text-align: center;">
        <button id="entervr" class="cmd-btn" style="font-size: 1.1rem; padding: 18px 50px; background: #010; border-width: 2px;">INITIALIZE SCARLETT ONE</button>
    </div>

    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
            }
        }
    </script>

    <script type="module">
        // MASTER BOOTLOADER
        const log = document.getElementById('term-log');
        window.sysMsg = (m) => { 
            log.innerHTML += `<br>> ${m}`;
            log.scrollTop = log.scrollHeight;
        };
        window.toggleHUD = () => document.getElementById('diag-hud').classList.toggle('hidden');

        // Professional Standard: Relative Dot-Path
        const targetFile = './js/scarlett1/index.js';
        document.getElementById('path-val').innerText = targetFile;

        import(targetFile)
            .then(engine => {
                engine.initEngine();
                document.getElementById('st-val').innerText = 'ACTIVE';
                document.getElementById('st-val').style.color = '#0f0';
                sysMsg("SPINE SYNC: SUCCESSFUL.");
            })
            .catch(err => {
                sysMsg("FATAL: MODULE NOT FOUND. VERIFY 'js/scarlett1/' CASE.");
                console.error(err);
            });
    </script>
</body>
</html>
