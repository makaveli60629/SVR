<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>SVR | DEV COMMAND CENTER</title>
    <style>
        :root { --neon: #00ff00; --panel: rgba(0, 15, 0, 0.9); }
        body { margin: 0; overflow: hidden; background: #000; font-family: 'Courier New', monospace; color: var(--neon); }

        /* FULL GUI DIAGNOSTICS */
        #gui-hud {
            position: absolute; top: 10px; left: 10px; border: 1px solid var(--neon);
            padding: 12px; background: var(--panel); z-index: 1000; width: 220px;
        }

        /* COMMAND BUTTONS (Store, Teleport, etc.) */
        #cmd-bar {
            position: absolute; top: 10px; right: 10px; display: flex; flex-direction: column; gap: 8px;
        }
        .cmd-btn {
            background: #000; border: 1px solid var(--neon); color: var(--neon);
            padding: 10px; cursor: pointer; font-size: 11px; text-transform: uppercase;
            transition: 0.2s; min-width: 120px;
        }
        .cmd-btn:hover { background: var(--neon); color: #000; box-shadow: 0 0 10px var(--neon); }

        /* ANDROID DEBUG JOYSTICKS */
        #virtual-controls { position: absolute; bottom: 40px; width: 100%; display: flex; justify-content: space-between; padding: 0 40px; box-sizing: border-box; pointer-events: none; }
        .stick-base { width: 100px; height: 100px; border: 2px dashed var(--neon); border-radius: 50%; display: flex; align-items: center; justify-content: center; opacity: 0.4; pointer-events: auto; }
        .nub { width: 35px; height: 35px; background: var(--neon); border-radius: 50%; }

        /* SYSTEM LOG */
        #sys-log {
            position: absolute; bottom: 160px; left: 10px; right: 10px; height: 60px;
            background: rgba(0,0,0,0.5); font-size: 10px; color: #0f0; overflow-y: hidden;
            border-left: 3px solid var(--neon); padding: 5px; pointer-events: none;
        }
    </style>
</head>
<body>

    <div id="gui-hud">
        [ SVR SYSTEM DIAGNOSTICS ]<br><hr style="border:0; border-top:1px solid #040;">
        STATUS: <span id="st-val" style="color:red">OFFLINE</span><br>
        FPS: <span id="fps-val">0</span><br>
        COORDS: <span id="pos-val">0,0,0</span><br>
        HANDS: <span id="hand-val">NOT DETECTED</span>
    </div>

    <div id="cmd-bar">
        <button class="cmd-btn" onclick="sysLog('ACCESSING STORE...')">ðŸ›’ OPEN STORE</button>
        <button class="cmd-btn" onclick="sysLog('INITIATING TELEPORT...')">ðŸŒ€ TELEPORT</button>
        <button class="cmd-btn" onclick="sysLog('REBOOTING ENGINE...')">ðŸ”„ CORE RESET</button>
        <button class="cmd-btn" id="hide-gui" onclick="toggleGUI()">ðŸ”³ HIDE GUI</button>
    </div>

    <div id="virtual-controls">
        <div class="stick-base" id="move-stick"><div class="nub"></div></div>
        <div class="stick-base" id="look-stick"><div class="nub"></div></div>
    </div>

    <div id="sys-log">> SYSTEM READY. STANDING BY FOR SCARLETT ONE SPINE...</div>

    <div style="position: absolute; bottom: 20px; width: 100%; text-align: center;">
        <button id="entervr" class="cmd-btn" style="font-size: 1.2rem; padding: 15px 40px;">INITIALIZE VR</button>
    </div>

    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
            }
        }
    </script>

    <script type="module">
        import { initEngine } from './js/scarlett1/index.js';

        window.sysLog = (msg) => {
            const log = document.getElementById('sys-log');
            log.innerHTML = `> ${msg}<br>` + log.innerHTML;
        };

        window.toggleGUI = () => {
            const hud = document.getElementById('gui-hud');
            hud.style.display = hud.style.display === 'none' ? 'block' : 'none';
        };

        window.addEventListener('load', () => {
            try {
                initEngine();
                document.getElementById('st-val').innerText = 'ACTIVE';
                document.getElementById('st-val').style.color = '#0f0';
                sysLog("SCARLETT ONE SPINE CONNECTED SUCCESSFULLY.");
            } catch (e) {
                sysLog("CONNECTION ERROR: CHECK FOLDER CASING (js/scarlett1/)");
                console.error(e);
            }
        });
    </script>
</body>
</html>
