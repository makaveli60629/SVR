<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ScarlettVR Poker - Master Build 4.1 (Circular Lobby)</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />

  <!-- A-Frame -->
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  <!-- A-Frame Extras -->
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
  <!-- Super Hands (grab/pinch) -->
  <script src="https://cdn.jsdelivr.net/npm/aframe-super-hands-component@5.0.2/dist/aframe-super-hands-component.min.js"></script>

  <link rel="stylesheet" href="css/style.css" />
</head>
<body>

  <!-- DEV HUD (PERMANENT - NEVER REMOVE) -->
  <div id="dev-hud">
    <div class="hud-title">SCARLETT_OS v4.1</div>
    <div id="fps-counter">FPS: -- | XYZ: 0 0 0</div>
    <hr class="hud-hr" />
    <button class="hud-btn" onclick="window.ScarlettWorld.dealFlop()">üé¥ DEAL FLOP</button>
    <button class="hud-btn" onclick="window.ScarlettWorld.toggleStore()">üõí CASINO STORE</button>
    <button class="hud-btn" onclick="window.ScarlettWorld.spawnBot()">ü§ñ ADD BOT</button>
    <button class="hud-btn" onclick="window.ScarlettWorld.toggleLobbyNeon()">üí° TOGGLE NEON</button>
    <button class="hud-btn hud-btn-danger" onclick="location.reload()">‚ò¢Ô∏è RESET</button>
  </div>

  <a-scene renderer="antialias: true; colorManagement: true; exposure: 1.7;">
    <a-assets>
      <img id="wallTex" src="assets/textures/brick_wall.jpg" />
      <img id="casinoLogo" src="assets/textures/casino_art_2.png" />
      <img id="jumbotronTex" src="assets/textures/jumbotron_placeholder.png" />
      <img id="doorTex" src="assets/textures/door_placeholder.png" />
    </a-assets>

    <!-- LIGHTING: NEVER DARK -->
    <a-light type="ambient" intensity="1.35"></a-light>
    <a-light type="point" position="0 14.00 0" intensity="3.2" distance="90" color="#ffffff"></a-light>

    <!-- CIRCULAR LOBBY (sealed, bright, premium) -->
    <a-entity id="lobby-root">

      <!-- Floor + Ceiling -->
      <a-plane rotation="-90 0 0" width="120" height="120" color="#141414"></a-plane>
      <a-plane rotation="90 0 0" position="0 20 0" width="120" height="120" color="#0f0f0f"></a-plane>

      <!-- Circular Wall (inside faces inward). Radius=30, Height=20 -->
      <a-cylinder id="lobby-wall"
        radius="30"
        height="20"
        position="0 10.0 0"
        open-ended="true"
        material="src: #wallTex; repeat: 12 2; side: double; roughness: 0.9; metalness: 0.1">
      </a-cylinder>

      <!-- Neon Rings (top + mid + base) -->
      <a-ring id="neon-ring-top" position="0 19.60 0" rotation="-90 0 0"
              radius-inner="29.4" radius-outer="29.8"
              material="color:#A020F0; emissive:#A020F0; emissiveIntensity:18; side:double"></a-ring>

      <a-ring id="neon-ring-mid" position="0 11.00 0" rotation="-90 0 0"
              radius-inner="29.4" radius-outer="29.8"
              material="color:#00FFFF; emissive:#00FFFF; emissiveIntensity:10; side:double"></a-ring>

      <a-ring id="neon-ring-base" position="0 0.25 0" rotation="-90 0 0"
              radius-inner="29.4" radius-outer="29.8"
              material="color:#A020F0; emissive:#A020F0; emissiveIntensity:14; side:double"></a-ring>

      <!-- Center Branding Totem -->
      <a-entity id="center-totem" position="0 0 -6">
        <a-cylinder radius="1.2" height="3.6" position="0 1.8 0"
                    material="color:#0a0a0a; metalness:0.4; roughness:0.6"></a-cylinder>
        <a-image src="#casinoLogo" position="0 2.4 1.21" width="6" height="3"></a-image>
        <a-text value="SCARLETTVR POKER" position="0 4.2 0" align="center" width="10"
                color="#00FF00" material="emissive:#00FF00; emissiveIntensity:2"></a-text>
      </a-entity>

      <!-- 4 JUMBOTRONS + DOORS UNDER THEM + SIGNS -->
      
      <a-entity class="jumbotron-stack" data-jumbo="NORTH" position="0 11.0 -29.5" rotation="0 0 0">
        <!-- Jumbotron Screen -->
        <a-plane class="jumbotron"
                 width="16" height="9"
                 position="0 0 0.45"
                 material="src:#jumbotronTex; color:#ffffff; emissive:#ffffff; emissiveIntensity:1.8; metalness:0.2; roughness:0.7">
        </a-plane>

        <!-- Sign above -->
        <a-text value="WELCOME ‚Ä¢ NORTH GATE"
                position="0 6.6 0.6"
                align="center" width="18" color="#00FFFF"
                material="emissive:#00FFFF; emissiveIntensity:2">
        </a-text>

        <!-- Door under jumbotron -->
        <a-box class="door"
               width="4.5" height="6.5" depth="0.25"
               position="0 -6.2 0.55"
               material="src:#doorTex; color:#222; emissive:#A020F0; emissiveIntensity:0.6; roughness:0.9"
               doorway>
        </a-box>

        <!-- Door Pad (interaction) -->
        <a-box class="door-pad"
               width="0.6" height="0.6" depth="0.1"
               position="2.8 -6.0 0.85"
               material="color:#00FF00; emissive:#00FF00; emissiveIntensity:2"
               doorpad>
        </a-box>
      </a-entity>

      <a-entity class="jumbotron-stack" data-jumbo="EAST" position="29.5 11.0 0" rotation="0 -90 0">
        <!-- Jumbotron Screen -->
        <a-plane class="jumbotron"
                 width="16" height="9"
                 position="0 0 0.45"
                 material="src:#jumbotronTex; color:#ffffff; emissive:#ffffff; emissiveIntensity:1.8; metalness:0.2; roughness:0.7">
        </a-plane>

        <!-- Sign above -->
        <a-text value="WELCOME ‚Ä¢ EAST GATE"
                position="0 6.6 0.6"
                align="center" width="18" color="#00FFFF"
                material="emissive:#00FFFF; emissiveIntensity:2">
        </a-text>

        <!-- Door under jumbotron -->
        <a-box class="door"
               width="4.5" height="6.5" depth="0.25"
               position="0 -6.2 0.55"
               material="src:#doorTex; color:#222; emissive:#A020F0; emissiveIntensity:0.6; roughness:0.9"
               doorway>
        </a-box>

        <!-- Door Pad (interaction) -->
        <a-box class="door-pad"
               width="0.6" height="0.6" depth="0.1"
               position="2.8 -6.0 0.85"
               material="color:#00FF00; emissive:#00FF00; emissiveIntensity:2"
               doorpad>
        </a-box>
      </a-entity>

      <a-entity class="jumbotron-stack" data-jumbo="SOUTH" position="0 11.0 29.5" rotation="0 180 0">
        <!-- Jumbotron Screen -->
        <a-plane class="jumbotron"
                 width="16" height="9"
                 position="0 0 0.45"
                 material="src:#jumbotronTex; color:#ffffff; emissive:#ffffff; emissiveIntensity:1.8; metalness:0.2; roughness:0.7">
        </a-plane>

        <!-- Sign above -->
        <a-text value="WELCOME ‚Ä¢ SOUTH GATE"
                position="0 6.6 0.6"
                align="center" width="18" color="#00FFFF"
                material="emissive:#00FFFF; emissiveIntensity:2">
        </a-text>

        <!-- Door under jumbotron -->
        <a-box class="door"
               width="4.5" height="6.5" depth="0.25"
               position="0 -6.2 0.55"
               material="src:#doorTex; color:#222; emissive:#A020F0; emissiveIntensity:0.6; roughness:0.9"
               doorway>
        </a-box>

        <!-- Door Pad (interaction) -->
        <a-box class="door-pad"
               width="0.6" height="0.6" depth="0.1"
               position="2.8 -6.0 0.85"
               material="color:#00FF00; emissive:#00FF00; emissiveIntensity:2"
               doorpad>
        </a-box>
      </a-entity>

      <a-entity class="jumbotron-stack" data-jumbo="WEST" position="-29.5 11.0 0" rotation="0 90 0">
        <!-- Jumbotron Screen -->
        <a-plane class="jumbotron"
                 width="16" height="9"
                 position="0 0 0.45"
                 material="src:#jumbotronTex; color:#ffffff; emissive:#ffffff; emissiveIntensity:1.8; metalness:0.2; roughness:0.7">
        </a-plane>

        <!-- Sign above -->
        <a-text value="WELCOME ‚Ä¢ WEST GATE"
                position="0 6.6 0.6"
                align="center" width="18" color="#00FFFF"
                material="emissive:#00FFFF; emissiveIntensity:2">
        </a-text>

        <!-- Door under jumbotron -->
        <a-box class="door"
               width="4.5" height="6.5" depth="0.25"
               position="0 -6.2 0.55"
               material="src:#doorTex; color:#222; emissive:#A020F0; emissiveIntensity:0.6; roughness:0.9"
               doorway>
        </a-box>

        <!-- Door Pad (interaction) -->
        <a-box class="door-pad"
               width="0.6" height="0.6" depth="0.1"
               position="2.8 -6.0 0.85"
               material="color:#00FF00; emissive:#00FF00; emissiveIntensity:2"
               doorpad>
        </a-box>
      </a-entity>


    </a-entity>

    <!-- TABLE AREA (kept for demo + cards) -->
    <a-entity id="poker-table-complex" position="0 0 -15">
      <a-text value="SCARLETT MAIN EVENT" position="0 3.5 0" align="center" width="10"
              color="#00FF00" material="emissive:#00FF00; emissiveIntensity:2"></a-text>

      <a-cylinder radius="4" height="1" color="#004d00">
        <a-ring rotation="-90 0 0" position="0 0.51 0" radius-inner="3.8" radius-outer="4"
                color="#A020F0" material="emissive:#A020F0; emissiveIntensity:10"></a-ring>
      </a-cylinder>

      <a-entity id="community-cards" position="0 1.8 0"></a-entity>
      <a-entity id="bot-anchor"></a-entity>
    </a-entity>

    <!-- PLAYER RIG + HANDS -->
    <a-entity id="rig" position="0 0 0" movement-controls="fly: false; speed: 0.35">
      <a-camera id="main-cam" look-controls wasd-controls position="0 1.6 6">
        <a-cursor color="#00FF00"></a-cursor>
      </a-camera>

      <!-- Grab whole card (super-hands + collider targets .grabbable) -->
      <a-entity id="leftHand"
                hand-tracking-controls="hand: left;"
                super-hands
                sphere-collider="objects: .grabbable, .door-pad; radius: 0.07"></a-entity>

      <a-entity id="rightHand"
                hand-tracking-controls="hand: right;"
                super-hands
                sphere-collider="objects: .grabbable, .door-pad; radius: 0.07"></a-entity>
    </a-entity>

    <script src="js/index.js"></script>
  </a-scene>
</body>
</html>
